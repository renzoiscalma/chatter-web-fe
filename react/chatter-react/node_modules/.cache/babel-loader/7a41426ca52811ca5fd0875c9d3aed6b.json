{"ast":null,"code":"var _jsxFileName = \"/home/xeg/dev/chatter-web/frontend/react/chatter-react/src/components/Chatter/Chatter.tsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useReducer, useRef, useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport { Divider } from \"@mui/material\";\nimport Messages from \"./Messages\";\nimport Sender from \"./Sender\";\nimport SendStatus from \"./interface/SendStatus\";\nimport { useMutation, useQuery, useSubscription } from \"@apollo/client\";\nimport { GET_MESSAGES_ON_LOBBY, MESSAGE_ADDED_SUBSCRIPTION, SEND_MESSAGE, VIDEO_STATUS_SUBSCRIPTION } from \"../../queries/Chatter\";\nimport { UsrContxt } from \"../../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction sendMessageReducer(state, action) {\n  let messages = state;\n\n  switch (action.type) {\n    case \"FETCH_ALL\":\n      return action.payload.map(message => {\n        return {\n          date: new Date(+message.date),\n          message: message.message,\n          sender: message.from.id,\n          senderUsername: message.from.username,\n          to: \"Lobby\",\n          sendStatus: SendStatus.SENT\n        };\n      });\n\n    case SendStatus.FAILED:\n      return {};\n\n    case SendStatus.SENDING:\n      {\n        let {\n          to,\n          sender,\n          message,\n          localDateSent\n        } = action.payload;\n        messages.push(action.payload);\n        action.payload.callback({\n          variables: {\n            to,\n            from: sender,\n            message,\n            localDateSent\n          }\n        });\n        return [...messages];\n      }\n\n    case SendStatus.SENT:\n      {\n        let {\n          localDateSent,\n          sender\n        } = action.payload;\n        console.log(action.payload, messages);\n        let targetMessage = messages.filter(message => message.localDateSent === localDateSent && message.sender === sender);\n        targetMessage[0].sendStatus = SendStatus.SENT;\n        console.log(targetMessage);\n        return [...messages];\n      }\n\n    case \"NEW_MESSAGE\":\n      {\n        // todo sort\n        return [...messages, ...action.payload];\n      }\n\n    default:\n      throw new Error();\n  }\n}\n\nfunction Chatter() {\n  _s();\n\n  const userContext = useContext(UsrContxt);\n  const bottomDivRef = useRef(null); // TODO QUERY RESULT ADD PROPER TYPES\n\n  const existingMessages = useQuery(GET_MESSAGES_ON_LOBBY, {\n    variables: {\n      lobbyId: userContext.lobbyId\n    }\n  }); // unless yung state ng message is contained to itself\n\n  const [sendMessage, sendMessageProperties] = useMutation(SEND_MESSAGE);\n  const newMessage = useSubscription(MESSAGE_ADDED_SUBSCRIPTION, {\n    variables: {\n      lobbyId: userContext.lobbyId,\n      userId: userContext.userId\n    }\n  });\n  const videoChanges = useSubscription(VIDEO_STATUS_SUBSCRIPTION, {\n    variables: {\n      lobbyId: userContext.lobbyId,\n      userId: userContext.userId\n    }\n  });\n  const chatterContainer = {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  };\n  let initialMessages = [];\n  const [messages, dispatchMessage] = useReducer(sendMessageReducer, initialMessages);\n  const [initialized, setInitialized] = useState(false);\n\n  const handleSendMessage = message => {\n    const messageStatusIndex = messages.length;\n    dispatchMessage({\n      type: SendStatus.SENDING,\n      payload: {\n        message: message,\n        sender: userContext.userId,\n        senderUsername: userContext.username,\n        to: userContext.lobbyId,\n        sendStatus: SendStatus.SENDING,\n        index: messageStatusIndex,\n        localDateSent: new Date().getTime() + \"\",\n        callback: sendMessage\n      }\n    });\n  };\n\n  useEffect(() => {\n    var _bottomDivRef$current;\n\n    bottomDivRef === null || bottomDivRef === void 0 ? void 0 : (_bottomDivRef$current = bottomDivRef.current) === null || _bottomDivRef$current === void 0 ? void 0 : _bottomDivRef$current.scrollIntoView();\n  }, [messages]);\n  useEffect(() => {\n    var _videoChanges$data;\n\n    if (videoChanges !== null && videoChanges !== void 0 && (_videoChanges$data = videoChanges.data) !== null && _videoChanges$data !== void 0 && _videoChanges$data.videoStatusChanged) {\n      console.log(videoChanges);\n    }\n  }, [videoChanges.data]);\n  useEffect(() => {\n    var _existingMessages$dat, _existingMessages$dat2;\n\n    if (!initialized && (_existingMessages$dat = existingMessages.data) !== null && _existingMessages$dat !== void 0 && (_existingMessages$dat2 = _existingMessages$dat.getMessagesOnLobby) !== null && _existingMessages$dat2 !== void 0 && _existingMessages$dat2.success) {\n      setInitialized(true);\n      dispatchMessage({\n        type: \"FETCH_ALL\",\n        payload: existingMessages.data.getMessagesOnLobby.data\n      });\n    }\n  }, [initialized, existingMessages.data]);\n  useEffect(() => {\n    if (sendMessageProperties !== null && sendMessageProperties !== void 0 && sendMessageProperties.data) {\n      let {\n        message,\n        localDateSent\n      } = sendMessageProperties.data.addMessage;\n      dispatchMessage({\n        type: SendStatus.SENT,\n        payload: { ...message,\n          localDateSent,\n          sender: message.from.id\n        }\n      });\n    }\n\n    if (sendMessageProperties !== null && sendMessageProperties !== void 0 && sendMessageProperties.error) {\n      console.log(\"ERROR HAS OCCURED\");\n    }\n  }, [sendMessageProperties.data, sendMessageProperties === null || sendMessageProperties === void 0 ? void 0 : sendMessageProperties.error]);\n  useEffect(() => {\n    var _newMessage$data;\n\n    // todo add types\n    if (newMessage !== null && newMessage !== void 0 && (_newMessage$data = newMessage.data) !== null && _newMessage$data !== void 0 && _newMessage$data.messageAdded) dispatchMessage({\n      type: \"NEW_MESSAGE\",\n      payload: newMessage.data.messageAdded.messages\n    });\n  }, [newMessage]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: chatterContainer,\n    children: [/*#__PURE__*/_jsxDEV(Messages, {\n      messages: messages,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: bottomDivRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Sender, {\n      handleSendMessage: handleSendMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Chatter, \"91wqpV8vRDrox2GrRDH0e2qfQ1c=\", false, function () {\n  return [useQuery, useMutation, useSubscription, useSubscription];\n});\n\n_c = Chatter;\nexport default Chatter;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chatter\");","map":{"version":3,"names":["useContext","useEffect","useReducer","useRef","useState","Box","Divider","Messages","Sender","SendStatus","useMutation","useQuery","useSubscription","GET_MESSAGES_ON_LOBBY","MESSAGE_ADDED_SUBSCRIPTION","SEND_MESSAGE","VIDEO_STATUS_SUBSCRIPTION","UsrContxt","sendMessageReducer","state","action","messages","type","payload","map","message","date","Date","sender","from","id","senderUsername","username","to","sendStatus","SENT","FAILED","SENDING","localDateSent","push","callback","variables","console","log","targetMessage","filter","Error","Chatter","userContext","bottomDivRef","existingMessages","lobbyId","sendMessage","sendMessageProperties","newMessage","userId","videoChanges","chatterContainer","height","display","flexDirection","initialMessages","dispatchMessage","initialized","setInitialized","handleSendMessage","messageStatusIndex","length","index","getTime","current","scrollIntoView","data","videoStatusChanged","getMessagesOnLobby","success","addMessage","error","messageAdded"],"sources":["/home/xeg/dev/chatter-web/frontend/react/chatter-react/src/components/Chatter/Chatter.tsx"],"sourcesContent":["import { useContext, useEffect, useReducer, useRef, useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport { Divider, SxProps } from \"@mui/material\";\nimport Messages from \"./Messages\";\nimport Sender from \"./Sender\";\nimport Message from \"./interface/Message\";\nimport SendStatus from \"./interface/SendStatus\";\nimport {\n  QueryResult,\n  SubscriptionResult,\n  useMutation,\n  useQuery,\n  useSubscription,\n} from \"@apollo/client\";\nimport {\n  GET_MESSAGES_ON_LOBBY,\n  MESSAGE_ADDED_SUBSCRIPTION,\n  SEND_MESSAGE,\n  VIDEO_STATUS_SUBSCRIPTION,\n} from \"../../queries/Chatter\";\nimport { UsrContxt } from \"../../App\";\nimport VideoStatusResponse from \"./interface/response/VideoStatusTopicResponse\";\n\ninterface LobbyIdProps {\n  lobbyId: string;\n}\n\ninterface UserIdProps {\n  userIdProps: string;\n}\n\ntype MESSAGEACTIONTYPE =\n  | { type: \"FETCH_ALL\"; payload: any } // todo change proper types\n  | { type: SendStatus.FAILED; payload: Message & { localDateSent: string } }\n  | {\n      type: SendStatus.SENDING;\n      payload: Message & { index: number; callback: Function };\n    }\n  | { type: SendStatus.SENT; payload: Message & { localDateSent: string } }\n  | { type: \"NEW_MESSAGE\"; payload: Message[] };\n\nfunction sendMessageReducer(\n  state: Message[],\n  action: MESSAGEACTIONTYPE\n): Message[] {\n  let messages = state;\n  switch (action.type) {\n    case \"FETCH_ALL\":\n      return action.payload.map((message: any): Message => {\n        return {\n          date: new Date(+message.date),\n          message: message.message,\n          sender: message.from.id,\n          senderUsername: message.from.username,\n          to: \"Lobby\",\n          sendStatus: SendStatus.SENT,\n        };\n      });\n    case SendStatus.FAILED:\n      return {} as Message[];\n    case SendStatus.SENDING: {\n      let { to, sender, message, localDateSent } = action.payload;\n      messages.push(action.payload);\n      action.payload.callback({\n        variables: {\n          to,\n          from: sender,\n          message,\n          localDateSent,\n        },\n      });\n      return [...messages];\n    }\n    case SendStatus.SENT: {\n      let { localDateSent, sender } = action.payload;\n      console.log(action.payload, messages);\n      let targetMessage = messages.filter(\n        (message) =>\n          message.localDateSent === localDateSent && message.sender === sender\n      );\n      targetMessage[0].sendStatus = SendStatus.SENT;\n      console.log(targetMessage);\n      return [...messages];\n    }\n    case \"NEW_MESSAGE\": {\n      // todo sort\n      return [...messages, ...action.payload];\n    }\n    default:\n      throw new Error();\n  }\n}\n\nfunction Chatter() {\n  const userContext = useContext(UsrContxt);\n  const bottomDivRef = useRef<HTMLDivElement>(null);\n  // TODO QUERY RESULT ADD PROPER TYPES\n  const existingMessages: QueryResult<any, any> = useQuery(\n    GET_MESSAGES_ON_LOBBY,\n    {\n      variables: {\n        lobbyId: userContext.lobbyId,\n      },\n    }\n  );\n\n  // unless yung state ng message is contained to itself\n  const [sendMessage, sendMessageProperties] = useMutation(SEND_MESSAGE);\n\n  const newMessage = useSubscription(MESSAGE_ADDED_SUBSCRIPTION, {\n    variables: {\n      lobbyId: userContext.lobbyId,\n      userId: userContext.userId,\n    },\n  });\n\n  const videoChanges: SubscriptionResult<\n    { videoStatusChanged: VideoStatusResponse },\n    { lobbyId: LobbyIdProps; userId: UserIdProps }\n  > = useSubscription(VIDEO_STATUS_SUBSCRIPTION, {\n    variables: {\n      lobbyId: userContext.lobbyId,\n      userId: userContext.userId,\n    },\n  });\n\n  const chatterContainer: SxProps = {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  };\n\n  let initialMessages: Message[] = [] as Message[];\n  const [messages, dispatchMessage] = useReducer(\n    sendMessageReducer,\n    initialMessages\n  );\n  const [initialized, setInitialized] = useState<boolean>(false);\n\n  const handleSendMessage = (message: string) => {\n    const messageStatusIndex: number = messages.length;\n\n    dispatchMessage({\n      type: SendStatus.SENDING,\n      payload: {\n        message: message,\n        sender: userContext.userId,\n        senderUsername: userContext.username,\n        to: userContext.lobbyId,\n        sendStatus: SendStatus.SENDING,\n        index: messageStatusIndex,\n        localDateSent: new Date().getTime() + \"\",\n        callback: sendMessage,\n      },\n    });\n  };\n\n  useEffect(() => {\n    bottomDivRef?.current?.scrollIntoView();\n  }, [messages]);\n\n  useEffect(() => {\n    if (videoChanges?.data?.videoStatusChanged) {\n      console.log(videoChanges);\n    }\n  }, [videoChanges.data]);\n\n  useEffect(() => {\n    if (!initialized && existingMessages.data?.getMessagesOnLobby?.success) {\n      setInitialized(true);\n      dispatchMessage({\n        type: \"FETCH_ALL\",\n        payload: existingMessages.data.getMessagesOnLobby.data,\n      });\n    }\n  }, [initialized, existingMessages.data]);\n\n  useEffect(() => {\n    if (sendMessageProperties?.data) {\n      let { message, localDateSent } = sendMessageProperties.data.addMessage;\n      dispatchMessage({\n        type: SendStatus.SENT,\n        payload: { ...message, localDateSent, sender: message.from.id },\n      });\n    }\n\n    if (sendMessageProperties?.error) {\n      console.log(\"ERROR HAS OCCURED\");\n    }\n  }, [sendMessageProperties.data, sendMessageProperties?.error]);\n\n  useEffect(() => {\n    // todo add types\n    if (newMessage?.data?.messageAdded)\n      dispatchMessage({\n        type: \"NEW_MESSAGE\",\n        payload: newMessage.data.messageAdded.messages as Message[],\n      });\n  }, [newMessage]);\n\n  return (\n    <Box sx={chatterContainer}>\n      <Messages messages={messages}>\n        <div ref={bottomDivRef} />\n      </Messages>\n      <Divider></Divider>\n      <Sender handleSendMessage={handleSendMessage}></Sender>\n    </Box>\n  );\n}\n\nexport default Chatter;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}