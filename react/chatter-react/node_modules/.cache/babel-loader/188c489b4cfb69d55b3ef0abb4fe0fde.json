{"ast":null,"code":"var _jsxFileName = \"/home/xeg/dev/chatter-web/frontend/react/chatter-react/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport { ThemeProvider } from \"@mui/material/styles\";\nimport { createContext, useEffect, useState } from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport Layout from \"./components/Layout/Layout\";\nimport LobbyModal from \"./components/Modals/CreateLobbyModal\";\nimport { ADD_NEW_USER, ADD_USER_TO_LOBBY, CREATE_LOBBY, IS_LOBBY_EXISTING, REMOVE_USER_TO_LOBBY } from \"./queries/App\";\nimport { UPDATE_VIDEO } from \"./queries/Video\";\nimport { darkTheme, lightTheme } from \"./theme\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UsrContxt = /*#__PURE__*/createContext({\n  username: \"\",\n  userId: \"\",\n  lobbyId: \"\",\n  videoUrl: \"\",\n  darkMode: true,\n  setUsername: () => {},\n  darkModeToggle: () => {},\n  setVideo: () => {}\n});\n\nfunction App() {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [userId, setUserId] = useState(\"\");\n  const [lobbyId, setLobbyId] = useState(\"\");\n  const [videoUrl, setVideoUrl] = useState(\"\");\n  const [darkMode, setDarkMode] = useState(true);\n  const [userCookie, setUserCookie] = useCookies([\"user-cookie\"]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [lobbyModal, setLobbyModal] = useState(false);\n  const navigate = useNavigate(); // TODO ADD PROPER TYPES\n\n  const [newUserMutation, newUserMutationRes] = useMutation(ADD_NEW_USER); // TODO interface for params\n\n  const [addUserToLobbyMutation, addUserToLobbbyMutRes] = useMutation(ADD_USER_TO_LOBBY); // TODO interface for params\n\n  const [removeUserToLobbyMutation, removeUserToLobbyMutRes] = useMutation(REMOVE_USER_TO_LOBBY);\n  const [createLobbyMutation, createLobbyMutationRes] = useMutation(CREATE_LOBBY);\n  const [isLobbyExisting, isLobbyExistingRes] = useLazyQuery(IS_LOBBY_EXISTING);\n  const [videoUrlMutation, videoUrlMutationProps] = useMutation(UPDATE_VIDEO);\n\n  const createLobby = videoUrl => {\n    // TODO add 1 second delay, loading = true modal should have a spinner inside\n    createLobbyMutation({\n      variables: {\n        videoUrl: videoUrl\n      }\n    });\n    setVideoUrl(videoUrl);\n  };\n\n  const handleSetVideo = videoUrl => {\n    setVideoUrl(videoUrl);\n  };\n\n  const handleSetUsername = username => {\n    setUsername(username);\n    setUserCookie(\"user-cookie\", {\n      userId: userId,\n      username\n    }, {\n      path: \"/\",\n      expires: new Date(\"11-10-2023\")\n    });\n  };\n\n  const handleCloseModal = () => {\n    setLobbyModal(false);\n  };\n\n  const handleDarkModeToggle = () => {\n    setDarkMode(val => !val);\n  };\n\n  const handleBeforeUnload = () => {\n    removeUserToLobbyMutation({\n      variables: {\n        lobbyId,\n        userId\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (!(userCookie !== null && userCookie !== void 0 && userCookie[\"user-cookie\"])) {\n      newUserMutation();\n    } else {\n      const {\n        userId,\n        username\n      } = userCookie[\"user-cookie\"];\n      setUsername(username);\n      setUserId(userId);\n    }\n\n    const lobbyId = searchParams.get(\"lobbyId\") || \"\";\n\n    if (lobbyId) {\n      isLobbyExisting({\n        variables: {\n          lobbyId: lobbyId\n        }\n      });\n    } else {\n      setLobbyModal(true);\n    }\n  }, []);\n  useEffect(() => {\n    if (lobbyId) videoUrlMutation({\n      variables: {\n        statusInput: {\n          url: videoUrl,\n          lobbyId: lobbyId,\n          userId: userId + \"-\",\n          // needed to update self's video as well\n          currTime: 0,\n          status: -1\n        }\n      }\n    });\n  }, [videoUrl]);\n  useEffect(() => {\n    if (newUserMutationRes.data) {\n      let {\n        code,\n        success,\n        user\n      } = newUserMutationRes.data.addNewUser;\n\n      if (code === 200 && success) {\n        setUsername(user.username);\n        setUserId(user.id);\n        setUserCookie(\"user-cookie\", {\n          userId: user.id,\n          username: user.username\n        }, {\n          path: \"/\",\n          expires: new Date(\"11-10-2023\")\n        });\n      }\n    }\n  }, [newUserMutationRes.data]);\n  useEffect(() => {\n    if (createLobbyMutationRes.data) {\n      const {\n        id\n      } = createLobbyMutationRes.data.createLobby;\n      setLobbyId(id);\n      handleCloseModal();\n      navigate(\"/?lobbyId=\" + id);\n      addUserToLobbyMutation({\n        variables: {\n          lobbyId: id,\n          userId\n        }\n      });\n    }\n  }, [createLobbyMutationRes.data]);\n  useEffect(() => {\n    if (!isLobbyExistingRes.called || isLobbyExistingRes.loading) return;\n    const lobbyId = searchParams.get(\"lobbyId\") || \"\";\n\n    if (isLobbyExistingRes.data && isLobbyExistingRes.data.isLobbyExisting.isExisting) {\n      setLobbyId(lobbyId); // add user to lobby BE\n\n      addUserToLobbyMutation({\n        variables: {\n          lobbyId,\n          userId\n        }\n      });\n      handleCloseModal();\n    } else {\n      setLobbyModal(true);\n    }\n\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\n    return () => window.removeEventListener(\"beforeUnload\", handleBeforeUnload);\n  }, [isLobbyExistingRes, lobbyId, userId]);\n  return /*#__PURE__*/_jsxDEV(UsrContxt.Provider, {\n    value: {\n      username,\n      setUsername: handleSetUsername,\n      userId,\n      lobbyId,\n      darkMode,\n      videoUrl,\n      setVideo: handleSetVideo,\n      darkModeToggle: handleDarkModeToggle\n    },\n    children: /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      theme: darkMode ? darkTheme : lightTheme,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(LobbyModal, {\n          opened: lobbyModal,\n          handleCloseModal: handleCloseModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Layout, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"uT2sWfD2suSnmzQVrifET9wXQFA=\", false, function () {\n  return [useCookies, useSearchParams, useNavigate, useMutation, useMutation, useMutation, useMutation, useLazyQuery, useMutation];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useLazyQuery","useMutation","ThemeProvider","createContext","useEffect","useState","useCookies","useNavigate","useSearchParams","Layout","LobbyModal","ADD_NEW_USER","ADD_USER_TO_LOBBY","CREATE_LOBBY","IS_LOBBY_EXISTING","REMOVE_USER_TO_LOBBY","UPDATE_VIDEO","darkTheme","lightTheme","UsrContxt","username","userId","lobbyId","videoUrl","darkMode","setUsername","darkModeToggle","setVideo","App","setUserId","setLobbyId","setVideoUrl","setDarkMode","userCookie","setUserCookie","searchParams","setSearchParams","lobbyModal","setLobbyModal","navigate","newUserMutation","newUserMutationRes","addUserToLobbyMutation","addUserToLobbbyMutRes","removeUserToLobbyMutation","removeUserToLobbyMutRes","createLobbyMutation","createLobbyMutationRes","isLobbyExisting","isLobbyExistingRes","videoUrlMutation","videoUrlMutationProps","createLobby","variables","handleSetVideo","handleSetUsername","path","expires","Date","handleCloseModal","handleDarkModeToggle","val","handleBeforeUnload","get","statusInput","url","currTime","status","data","code","success","user","addNewUser","id","called","loading","isExisting","window","addEventListener","removeEventListener"],"sources":["/home/xeg/dev/chatter-web/frontend/react/chatter-react/src/App.tsx"],"sourcesContent":["import {\n  LazyQueryResultTuple,\n  MutationTuple,\n  useLazyQuery,\n  useMutation,\n} from \"@apollo/client\";\nimport { ThemeProvider } from \"@mui/material/styles\";\nimport { createContext, useEffect, useState } from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport Lobby from \"./components/Chatter/interface/Lobby\";\nimport UserContext from \"./components/Chatter/interface/UserContext\";\nimport IsLobbyExistingRequest from \"./components/Chatter/interface/requests/IsLobbyExistingRequest\";\nimport UpdateVideoStatusRequest from \"./components/Chatter/interface/requests/UpdateVideoStatusRequest\";\nimport AddNewUserResponse from \"./components/Chatter/interface/response/AddNewUserResponse\";\nimport GenericResponse from \"./components/Chatter/interface/response/GenericResponse\";\nimport IsLobbyExistingResponse from \"./components/Chatter/interface/response/IsLobbyExistingResponse\";\nimport Layout from \"./components/Layout/Layout\";\nimport LobbyModal from \"./components/Modals/CreateLobbyModal\";\nimport {\n  ADD_NEW_USER,\n  ADD_USER_TO_LOBBY,\n  CREATE_LOBBY,\n  IS_LOBBY_EXISTING,\n  REMOVE_USER_TO_LOBBY,\n} from \"./queries/App\";\nimport { UPDATE_VIDEO } from \"./queries/Video\";\nimport { darkTheme, lightTheme } from \"./theme\";\n\nexport const UsrContxt = createContext<UserContext>({\n  username: \"\",\n  userId: \"\",\n  lobbyId: \"\",\n  videoUrl: \"\",\n  darkMode: true,\n  setUsername: () => {},\n  darkModeToggle: () => {},\n  setVideo: () => {},\n});\n\nfunction App(): JSX.Element {\n  const [username, setUsername] = useState<string>(\"\");\n  const [userId, setUserId] = useState<string>(\"\");\n  const [lobbyId, setLobbyId] = useState<string>(\"\");\n  const [videoUrl, setVideoUrl] = useState<string>(\"\");\n  const [darkMode, setDarkMode] = useState<boolean>(true);\n  const [userCookie, setUserCookie] = useCookies([\"user-cookie\"]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [lobbyModal, setLobbyModal] = useState<boolean>(false);\n  const navigate = useNavigate();\n  // TODO ADD PROPER TYPES\n  const [newUserMutation, newUserMutationRes]: MutationTuple<\n    { addNewUser: AddNewUserResponse },\n    null\n  > = useMutation(ADD_NEW_USER);\n\n  // TODO interface for params\n  const [addUserToLobbyMutation, addUserToLobbbyMutRes]: MutationTuple<\n    { addUserToLobby: GenericResponse },\n    { lobbyId: string; userId: string }\n  > = useMutation(ADD_USER_TO_LOBBY);\n\n  // TODO interface for params\n  const [removeUserToLobbyMutation, removeUserToLobbyMutRes]: MutationTuple<\n    { removeUserToLobby: GenericResponse },\n    { lobbyId: string; userId: string }\n  > = useMutation(REMOVE_USER_TO_LOBBY);\n\n  const [createLobbyMutation, createLobbyMutationRes]: MutationTuple<\n    { createLobby: Lobby },\n    { videoUrl: string }\n  > = useMutation(CREATE_LOBBY);\n\n  const [isLobbyExisting, isLobbyExistingRes]: LazyQueryResultTuple<\n    { isLobbyExisting: IsLobbyExistingResponse },\n    IsLobbyExistingRequest\n  > = useLazyQuery(IS_LOBBY_EXISTING);\n\n  const [videoUrlMutation, videoUrlMutationProps]: MutationTuple<\n    { updateVideoStatus: GenericResponse },\n    { statusInput: UpdateVideoStatusRequest }\n  > = useMutation(UPDATE_VIDEO);\n\n  const createLobby = (videoUrl: string) => {\n    // TODO add 1 second delay, loading = true modal should have a spinner inside\n    createLobbyMutation({\n      variables: {\n        videoUrl: videoUrl,\n      },\n    });\n    setVideoUrl(videoUrl);\n  };\n\n  const handleSetVideo = (videoUrl: string) => {\n    setVideoUrl(videoUrl);\n  };\n\n  const handleSetUsername = (username: string) => {\n    setUsername(username);\n    setUserCookie(\n      \"user-cookie\",\n      { userId: userId, username },\n      {\n        path: \"/\",\n        expires: new Date(\"11-10-2023\"),\n      }\n    );\n  };\n\n  const handleCloseModal = () => {\n    setLobbyModal(false);\n  };\n\n  const handleDarkModeToggle = () => {\n    setDarkMode((val) => !val);\n  };\n\n  const handleBeforeUnload = (): void => {\n    removeUserToLobbyMutation({\n      variables: {\n        lobbyId,\n        userId,\n      },\n    });\n  };\n\n  useEffect(() => {\n    if (!userCookie?.[\"user-cookie\"]) {\n      newUserMutation();\n    } else {\n      const { userId, username } = userCookie[\"user-cookie\"];\n      setUsername(username);\n      setUserId(userId);\n    }\n\n    const lobbyId = searchParams.get(\"lobbyId\") || \"\";\n    if (lobbyId) {\n      isLobbyExisting({\n        variables: {\n          lobbyId: lobbyId,\n        },\n      });\n    } else {\n      setLobbyModal(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (lobbyId)\n      videoUrlMutation({\n        variables: {\n          statusInput: {\n            url: videoUrl,\n            lobbyId: lobbyId,\n            userId: userId + \"-\", // needed to update self's video as well\n            currTime: 0,\n            status: -1,\n          },\n        },\n      });\n  }, [videoUrl]);\n\n  useEffect(() => {\n    if (newUserMutationRes.data) {\n      let { code, success, user } = newUserMutationRes.data.addNewUser;\n      if (code === 200 && success) {\n        setUsername(user.username);\n        setUserId(user.id);\n        setUserCookie(\n          \"user-cookie\",\n          { userId: user.id, username: user.username },\n          {\n            path: \"/\",\n            expires: new Date(\"11-10-2023\"),\n          }\n        );\n      }\n    }\n  }, [newUserMutationRes.data]);\n\n  useEffect(() => {\n    if (createLobbyMutationRes.data) {\n      const { id } = createLobbyMutationRes.data.createLobby;\n      setLobbyId(id);\n      handleCloseModal();\n      navigate(\"/?lobbyId=\" + id);\n      addUserToLobbyMutation({\n        variables: {\n          lobbyId: id,\n          userId,\n        },\n      });\n    }\n  }, [createLobbyMutationRes.data]);\n\n  useEffect(() => {\n    if (!isLobbyExistingRes.called || isLobbyExistingRes.loading) return;\n    const lobbyId = searchParams.get(\"lobbyId\") || \"\";\n    if (\n      isLobbyExistingRes.data &&\n      isLobbyExistingRes.data.isLobbyExisting.isExisting\n    ) {\n      setLobbyId(lobbyId);\n      // add user to lobby BE\n      addUserToLobbyMutation({\n        variables: {\n          lobbyId,\n          userId,\n        },\n      });\n      handleCloseModal();\n    } else {\n      setLobbyModal(true);\n    }\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\n    return () => window.removeEventListener(\"beforeUnload\", handleBeforeUnload);\n  }, [isLobbyExistingRes, lobbyId, userId]);\n\n  return (\n    <UsrContxt.Provider\n      value={{\n        username,\n        setUsername: handleSetUsername,\n        userId,\n        lobbyId,\n        darkMode,\n        videoUrl,\n        setVideo: handleSetVideo,\n        darkModeToggle: handleDarkModeToggle,\n      }}\n    >\n      <ThemeProvider theme={darkMode ? darkTheme : lightTheme}>\n        <div className=\"App\">\n          <LobbyModal opened={lobbyModal} handleCloseModal={handleCloseModal} />\n          <Layout />\n        </div>\n      </ThemeProvider>\n    </UsrContxt.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}