{"ast":null,"code":"var _jsxFileName = \"/home/xeg/dev/chatter-web/frontend/react/chatter-react/src/components/Video/Video.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport Box from '@mui/material/Box';\nimport YouTube from 'react-youtube';\nimport { useContainerDimension } from '../../util/ResizeUtil';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar PlayerState;\n\n(function (PlayerState) {\n  PlayerState[PlayerState[\"UNSTARTED\"] = -1] = \"UNSTARTED\";\n  PlayerState[PlayerState[\"ENDED\"] = 0] = \"ENDED\";\n  PlayerState[PlayerState[\"PLAYING\"] = 1] = \"PLAYING\";\n  PlayerState[PlayerState[\"PAUSED\"] = 2] = \"PAUSED\";\n  PlayerState[PlayerState[\"BUFFERING\"] = 3] = \"BUFFERING\";\n  PlayerState[PlayerState[\"VIDEO_CUED\"] = 5] = \"VIDEO_CUED\";\n})(PlayerState || (PlayerState = {}));\n\nfunction Video(_ref) {\n  _s();\n\n  let {\n    videoId\n  } = _ref;\n  const videoContainerStyle = {\n    display: 'flex'\n  };\n\n  const onStateChange = event => {\n    setVideoState(prev => ({ ...prev,\n      playerState: getPlayerState(event.data)\n    }));\n  };\n\n  const onReadyHandler = event => {};\n\n  const onPlayHandler = event => {};\n\n  const onPauseHandler = event => {};\n\n  const onEndHandler = event => {};\n\n  const onErrorHandler = event => {};\n\n  const [videoState, setVideoState] = useState({\n    videoId: videoId,\n    playerState: PlayerState.UNSTARTED,\n    onStateChange: onStateChange,\n    onReady: onReadyHandler,\n    onPlay: onPlayHandler,\n    onPause: onPauseHandler,\n    onEnd: onEndHandler,\n    onError: onErrorHandler,\n    opts: {\n      width: '',\n      height: ''\n    }\n  });\n  const ytContainer = useRef(null);\n  const videoSize = useContainerDimension(ytContainer);\n\n  const getPlayerState = eventData => {\n    switch (eventData) {\n      case 0:\n        return PlayerState.ENDED;\n\n      case 1:\n        return PlayerState.PLAYING;\n\n      case 2:\n        return PlayerState.PAUSED;\n\n      case 3:\n        return PlayerState.BUFFERING;\n\n      case 5:\n        return PlayerState.VIDEO_CUED;\n\n      default:\n        return PlayerState.UNSTARTED;\n    }\n  };\n\n  useEffect(() => {\n    setVideoState(prevState => ({ ...prevState,\n      opts: {\n        width: videoSize.width + \"\",\n        height: videoSize.height + \"\"\n      }\n    }));\n  }, [videoSize]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: videoContainerStyle,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '70vw',\n        height: '99vh'\n      },\n      ref: ytContainer,\n      children: /*#__PURE__*/_jsxDEV(YouTube, { ...videoState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Video, \"1wgGdrVyqXoLkVzXgYcRURTwg4U=\", false, function () {\n  return [useContainerDimension];\n});\n\n_c = Video;\nexport default Video;\n\nvar _c;\n\n$RefreshReg$(_c, \"Video\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Box","YouTube","useContainerDimension","PlayerState","Video","videoId","videoContainerStyle","display","onStateChange","event","setVideoState","prev","playerState","getPlayerState","data","onReadyHandler","onPlayHandler","onPauseHandler","onEndHandler","onErrorHandler","videoState","UNSTARTED","onReady","onPlay","onPause","onEnd","onError","opts","width","height","ytContainer","videoSize","eventData","ENDED","PLAYING","PAUSED","BUFFERING","VIDEO_CUED","prevState"],"sources":["/home/xeg/dev/chatter-web/frontend/react/chatter-react/src/components/Video/Video.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport Box from '@mui/material/Box';\nimport YouTube, { YouTubeEvent } from 'react-youtube';\nimport { SxProps } from '@mui/system';\nimport { useContainerDimension } from '../../util/ResizeUtil';\n\ninterface VideoProps {\n\tvideoId: string;\n}\n\nenum PlayerState {\n\tUNSTARTED = -1,\n\tENDED = 0,\n\tPLAYING = 1,\n\tPAUSED = 2,\n\tBUFFERING = 3,\n\tVIDEO_CUED = 5,\n}\n\nfunction Video({videoId}: VideoProps): JSX.Element {\n\n\tinterface State {\n\t\tplayerState: PlayerState;\n\t\tvideoId: string;\n\t\tonStateChange(event: YouTubeEvent<number>): void;\n\t\tonReady(event: YouTubeEvent<number>): void;\n\t\tonPlay(event: YouTubeEvent<number>): void;\n\t\tonPause(event: YouTubeEvent<number>): void;\n\t\tonEnd(event: YouTubeEvent<number>): void;\n\t\tonError(event: YouTubeEvent<number>): void;\n\t\topts: {\n\t\t\twidth: string;\n\t\t\theight: string;\n\t\t}\n\t}\n\n\tconst videoContainerStyle: SxProps = {\n\t\tdisplay: 'flex'\n\t}\n\n\tconst onStateChange = (event: YouTubeEvent<number>): void => {\n\t\tsetVideoState((prev: State) => ({\n\t\t\t...prev,\n\t\t\tplayerState: getPlayerState(event.data)\n\t\t}));\n\t}\n\n\tconst onReadyHandler = (event: YouTubeEvent<number>): void => {\n\t}\n\n\tconst onPlayHandler = (event: YouTubeEvent<number>): void => {\n\t}\n\n\tconst onPauseHandler = (event: YouTubeEvent<number>): void => {\n\t}\n\n\n\tconst onEndHandler = (event: YouTubeEvent<number>): void => {\n\t}\n\n\tconst onErrorHandler = (event: YouTubeEvent<number>): void => {\n\t}\n\n\tconst [videoState, setVideoState] = useState<State>({\n\t\tvideoId: videoId,\n\t\tplayerState: PlayerState.UNSTARTED,\n\t\tonStateChange: onStateChange,\n\t\tonReady: onReadyHandler,\n\t\tonPlay: onPlayHandler,\n\t\tonPause: onPauseHandler,\n\t\tonEnd: onEndHandler,\n\t\tonError: onErrorHandler,\n\t\topts: {\n\t\t\twidth: '',\n\t\t\theight: '',\n\t\t}\n\t});\n\tconst ytContainer = useRef<HTMLDivElement>(null);\n\tconst videoSize = useContainerDimension(ytContainer);\n\n\tconst getPlayerState = (eventData: number): PlayerState => {\n\t\tswitch (eventData) {\n\t\t\tcase 0:\n\t\t\t\treturn PlayerState.ENDED\n\t\t\tcase 1:\n\t\t\t\treturn PlayerState.PLAYING\n\t\t\tcase 2:\n\t\t\t\treturn PlayerState.PAUSED\n\t\t\tcase 3:\n\t\t\t\treturn PlayerState.BUFFERING\n\t\t\tcase 5:\n\t\t\t\treturn PlayerState.VIDEO_CUED\n\t\t\tdefault:\n\t\t\t\treturn PlayerState.UNSTARTED\n\t\t}\n\t}\n\n\n\tuseEffect(() => {\n\t\tsetVideoState((prevState: State) => ({\n\t\t\t...prevState,\n\t\t\topts: {\n\t\t\t\twidth: videoSize.width+\"\",\n\t\t\t\theight: videoSize.height+\"\"\n\t\t\t}\n\t\t}))\n\t}, [videoSize])\n\n\treturn (\n\t\t<Box sx={videoContainerStyle}>\n\t\t\t<div style={{width: '70vw', height: '99vh'}} ref={ytContainer}>\n\t\t\t\t<YouTube\n\t\t\t\t\t{...videoState}\n\t\t\t\t>\n\t\t\t\t</YouTube>\n\n\t\t\t</div>\n\t\t\t\t\n\t\t</Box>\n\t);\n}\n\nexport default Video;"],"mappings":"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"},"metadata":{},"sourceType":"module"}